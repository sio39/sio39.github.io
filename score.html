<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CSV読み込みテスト</title>
<style>
body { font-family: sans-serif; background:#0b0e14; color:#e8edf7; padding:20px; }
.stock { background:#121722; padding:10px; margin:5px 0; border-radius:6px; border:1px solid #1f2633; }
</style>
</head>
<body>
<h1>CSV読み込みテスト</h1>
<div id="stock-list"></div>

<!-- PapaParse CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
<script>
// CSV URL（同じリポジトリに置く）
const csvUrl = 'stocjs.csv';

Papa.parse(csvUrl, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(results){
        const container = document.getElementById('stock-list');
        results.data.forEach(stock => {
            if(!stock['銘柄名']) return;
            const div = document.createElement('div');
            div.className = 'stock';
            div.textContent = `${stock['銘柄名']} (${stock['銘柄コード']}) - AIスコア: ${stock['AIスコア']}, A3: ${stock['A3スコア']}, 価格: ${stock['価格']}`;
            container.appendChild(div);
        });
    },
    error: function(err){
        document.getElementById('stock-list').textContent = 'CSV読み込みエラー';
        console.error(err);
    }
});
</script>
</body>
</html>
