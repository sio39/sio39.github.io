<!DOCTYPE html>
<html lang="ja">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5JCN1FB7ML"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-5JCN1FB7ML');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŠ˜æŸ„ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒœãƒ¼ãƒ‰ | AIã‚¹ã‚³ã‚¢æŠ•è³‡ç ”ç©¶æ‰€</title>

    <style>
        /* --- å…±é€šåŸºæœ¬è¨­å®š --- */
        :root {
            --primary-color: #4da3ff;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-main: #334155;
            --text-sub: #64748b;
            --border-color: #e2e8f0;
        }

        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            line-height: 1.5;
            color: var(--text-main);
            max-width: 1000px; /* PCã§ã®è¡¨ç¤ºå¹…ã‚’å°‘ã—åºƒã’ã¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å›é¿ */
            margin: 0 auto;
            padding: 110px 10px 60px 10px; /* å·¦å³ä½™ç™½ã‚’æœ€å°åŒ– */
            background-color: var(--bg-color);
        }

        /* --- ãƒ˜ãƒƒãƒ€ãƒ¼ --- */
        .header {
            position: fixed;
            top: 0; left: 0; width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(5px);
            z-index: 9999;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            padding: 8px 15px; /* ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å°‘ã—ã‚¹ãƒªãƒ ã« */
            box-sizing: border-box;
        }

        .logo { font-size: 17px; font-weight: 800; color: var(--primary-color); text-decoration: none; }
        nav { display: flex; gap: 12px; }
        nav a { color: var(--text-sub); text-decoration: none; font-weight: 600; font-size: 14px; }
        nav a.active { color: var(--primary-color); }
        .twitter-button { background: #000; color: white; padding: 5px 12px; border-radius: 30px; font-size: 12px; text-decoration: none; font-weight: bold; }

        /* --- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ --- */
        .page-title { text-align: center; font-size: 1.4rem; margin-bottom: 5px; color: #1e293b; }
        .status-container { text-align: center; margin-bottom: 15px; }
        .load-time { font-size: 0.75rem; color: #888; }
        .csv-time { font-size: 0.9rem; font-weight: bold; color: #d9534f; }

        .info-box {
            background: #fff; padding: 12px; border-radius: 8px;
            border: 1px solid var(--border-color); margin-bottom: 15px;
            font-size: 0.85rem; color: #475569;
        }

        /* --- ãƒ†ãƒ¼ãƒ–ãƒ«ï¼šã“ã“ã‚’å¤§å¹…ã«èª¿æ•´ --- */
        .table-container { 
            width: 100%; background: white; border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            overflow-x: auto; /* ã‚¹ãƒãƒ›ã§ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã« */
            -webkit-overflow-scrolling: touch;
            border: 1px solid var(--border-color);
        }
        
        table { 
            width: 100%; 
            border-collapse: collapse; 
            table-layout: auto; /* å†…å®¹ã«åˆã‚ã›ã¦å¹…ã‚’èª¿æ•´ */
        }
        
        th, td { 
            border: 1px solid #e2e8f0; 
            padding: 6px 4px; /* ä½™ç™½ã‚’æ¥µé™ã¾ã§å‰Šæ¸› */
            text-align: center; 
            font-size: 0.8rem; /* æ–‡å­—ã‚’å°‘ã—å°ã•ã */
            letter-spacing: -0.5px; /* æ–‡å­—é–“éš”ã‚’è©°ã‚ã‚‹ */
        }
        
        th { background-color: #1e293b; color: white; font-weight: 600; white-space: nowrap; }
        tr:nth-child(even) { background-color: #f8fafc; }
        
        /* æ•°å€¤ã®ã‚«ãƒ©ãƒ ã‚’å°‘ã—å¼·èª¿ */
        td:nth-child(n+3) { font-family: "Verdana", sans-serif; font-weight: 500; }

        .tool-link { text-align: center; margin-top: 25px; font-size: 0.9rem; }
        .btn {
            display: inline-block; padding: 8px 20px; background: var(--primary-color);
            color: white; text-decoration: none; border-radius: 6px; font-weight: bold; margin-top: 10px;
        }

        .footer-note {
            text-align: center; font-size: 0.75rem; color: #94a3b8;
            margin-top: 40px; padding-top: 15px; border-top: 1px solid var(--border-color);
        }

        /* ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼šã•ã‚‰ã«æœ€é©åŒ– */
        @media (max-width: 600px) {
            .header { justify-content: center; gap: 8px; padding: 8px; }
            nav { order: 3; width: 100%; justify-content: center; gap: 10px; }
            body { padding-top: 155px; padding-left: 5px; padding-right: 5px; }
            th, td { font-size: 0.75rem; padding: 8px 4px; }
            .info-box { font-size: 0.8rem; }
        }
    </style>
</head>

<body>

<header class="header">
    <a href="index.html" class="logo">AIã‚¹ã‚³ã‚¢æŠ•è³‡ç ”ç©¶æ‰€</a>
    <nav>
        <a href="index.html">TOP</a>
        <a href="https://sio39.github.io/score.html">ç›£è¦–éŠ˜æŸ„</a>
        <a href="tool.html">ãƒ„ãƒ¼ãƒ«</a>
        <a href="realtime.html" class="active">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ </a>
    </nav>
    <a href="https://x.com/N0oZk" target="_blank" class="twitter-button">Followğ•</a>
</header>

<main>
    <h1 class="page-title">éŠ˜æŸ„ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒœãƒ¼ãƒ‰</h1>
    
    <div class="status-container">
        <div id="last-load" class="load-time">æ›´æ–°å¾…ã¡...</div>
        <div id="csv-update-time" class="csv-time">èª­ã¿è¾¼ã¿ä¸­...</div>
    </div>
    
    <div class="info-box">
        RVOLÃ—è£œæ­£ä¿‚æ•°ãŒ<strong>1.5ä»¥ä¸Š</strong>ã€ä¸”ã¤å‰æ—¥æ¯”ãƒ—ãƒ©ã‚¹ãªã‚‰è²·ã„ã‚µã‚¤ãƒ³ã€‚<br>
        <span style="color: #d9534f;">â— å¯„ã‚Šä»˜ãç›´å¾Œã¯è½ã¡ç€ã„ã¦ã‹ã‚‰ã®åˆ¤æ–­ã‚’æ¨å¥¨ã€‚</span>
    </div>

    <div class="table-container">
        <table id="csv-table">
            <thead id="table-header"></thead>
            <tbody id="table-body"></tbody>
        </table>
    </div>

    <div class="tool-link">
        <p>â€»ä½¿ç”¨ãƒ„ãƒ¼ãƒ«ã¯ã“ã¡ã‚‰</p>
        <a href="tool.html" class="btn">â–¶ æŠ•è³‡ãƒ„ãƒ¼ãƒ«ä¸€è¦§</a>
    </div>
</main>

<footer class="footer-note">
    &copy; 2026 AIã‚¹ã‚³ã‚¢æŠ•è³‡ç ”ç©¶æ‰€
</footer>

<script>
    async function loadCSV() {
        const csvFilePath = 'data_push.csv';
        const tableHeader = document.getElementById('table-header');
        const tableBody = document.getElementById('table-body');
        const lastLoadDisp = document.getElementById('last-load');
        const csvTimeDisp = document.getElementById('csv-update-time');

        try {
            const response = await fetch(csvFilePath, { cache: "no-store" });
            if (!response.ok) return;

            const data = await response.text();
            const rows = data.split(/\r?\n/).filter(row => row.trim() !== '');
            
            tableHeader.innerHTML = '';
            tableBody.innerHTML = '';

            let headerColCount = 0;
            let firstTablerow = true;

            rows.forEach((row) => {
                if (row.includes("Update:")) {
                    const timeVal = row.replace("Update:", "").replace(/"/g, '').split(',')[0];
                    csvTimeDisp.textContent = 'ãƒ‡ãƒ¼ã‚¿æ›´æ–°: ' + timeVal;
                    return; 
                }

                const columns = row.split(','); 
                const tr = document.createElement('tr');

                if (firstTablerow) {
                    headerColCount = columns.length;
                    columns.forEach(col => {
                        const th = document.createElement('th');
                        th.textContent = col.replace(/"/g, '');
                        tr.appendChild(th);
                    });
                    tableHeader.appendChild(tr);
                    firstTablerow = false;
                } else {
                    for (let i = 0; i < headerColCount; i++) {
                        const td = document.createElement('td');
                        td.textContent = (columns[i] || "").replace(/"/g, '');
                        tr.appendChild(td);
                    }
                    tableBody.appendChild(tr);
                }
            });

            lastLoadDisp.textContent = 'æœ€çµ‚æ›´æ–°: ' + new Date().toLocaleTimeString();

        } catch (error) {
            console.error('Fetch error:', error);
        }
    }

    loadCSV();
    setInterval(loadCSV, 30000);
</script>

</body>
</html>